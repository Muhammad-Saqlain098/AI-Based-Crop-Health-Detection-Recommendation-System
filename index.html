<!DOCTYPE html>
<html>
<head>
<title>Crop Health AI</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
body { background: linear-gradient(120deg,#e8f5e9,#a5d6a7); }
.card { border-radius: 15px; }
.meter { height:30px; border-radius:20px; background:#c8e6c9; }
.fill { height:100%; background:#2e7d32; color:white;
       text-align:center; border-radius:20px; font-weight:bold; }
</style>
</head>

<body class="container py-4">

<h1 class="text-center text-success mb-4">ðŸŒ¿ AI Crop Health Detection</h1>

<div class="row">
<div class="col-md-6">
<img src="{{ url_for('video') }}" class="img-fluid rounded shadow">

<form method="post" action="/capture" class="mt-3">
<button class="btn btn-success w-100">ðŸ“¸ Capture from Camera</button>
</form>

<form method="post" action="/upload" enctype="multipart/form-data" class="mt-3">
<input type="file" name="leaf" class="form-control" required>
<button class="btn btn-primary w-100 mt-2">ðŸ“¤ Upload Image</button>
</form>

<img src="{{ url_for('static', filename='captured_leaf.jpg') }}"
     class="img-fluid rounded shadow mt-3">
</div>

<div class="col-md-6">
<div class="card p-3 shadow">
<h4>Health Meter</h4>
<div class="meter">
<div class="fill" style="width:{{ r.health }}%">
{{ r.health }}%
</div>
</div>

<h4 class="mt-3">Issue: <span class="text-danger">{{ r.issue }}</span></h4>

<h5 class="mt-3">Suggestions (English)</h5>
<ul>
{% for s in r.en %}<li>{{ s }}</li>{% endfor %}
</ul>

<h5>Ù…Ø´ÙˆØ±Û’ (Ø§Ø±Ø¯Ùˆ)</h5>
<ul style="direction:rtl">
{% for s in r.ur %}<li>{{ s }}</li>{% endfor %}
</ul>

<a href="/download" class="btn btn-dark w-100">â¬‡ Download CSV</a>
</div>
</div>
</div>

</body>
</html>
